<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Create Packing Template</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        label { display: block; margin: 5px 0; }
        input { margin-left: 10px; }
        button { margin-top: 10px; padding: 8px 14px; }
        pre { background: #f4f4f4; padding: 10px; border-radius: 6px; }
    </style>
    <script>
        async function createTemplate() {
          const name = document.getElementById("name").value;
          const description = document.getElementById("description").value;
          const itemName = document.getElementById("itemName").value;
          const qty = parseInt(document.getElementById("qty").value, 10);

          const payload = {
            name: name,
            description: description,
            items: [
              { name: itemName, qtyPerPerson: qty, notes: "" }
            ]
          };

          const resp = await fetch("/tripplanner/packing-templates", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload)
          });

          const data = await resp.json();
          document.getElementById("result").textContent =
            JSON.stringify(data, null, 2);
        }
    </script>
</head>
<body>
<h1>Create Packing Template</h1>
<form onsubmit="event.preventDefault(); createTemplate();">
    <label>Template Name: <input id="name" required></label>
    <label>Description: <input id="description"></label>
    <h3>First Item</h3>
    <label>Item Name: <input id="itemName" required></label>
    <label>Quantity per Person: <input id="qty" type="number" value="1" required></label>
    <button type="submit">Create Template</button>
</form>

<h2>Response</h2>
<pre id="result"></pre>

<button onclick="window.location.href='templates.html'">‚Üê Back to Templates List</button>
</body>
</html>
